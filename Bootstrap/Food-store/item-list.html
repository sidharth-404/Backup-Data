<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Document</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

    <script src="fetch-api-food.js"></script>

</head>

<body onload="getItemsAll()">

    <div>

        <nav class="navbar navbar-expand-lg bg-dark" data-bs-theme="dark">

            <div class="container-fluid">

                <a class="navbar-brand" href="Home.html">Food Store</a>

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">

                    <span class="navbar-toggler-icon"></span>

                </button>

                <div class="collapse navbar-collapse" id="navbarNav">

                    <ul class="navbar-nav">

                        <li class="nav-item">

                            <a class="nav-link" href="add-item.html">Add Album</a>

                        </li>

                        <li class="nav-item">

                            <a class="nav-link" href="#">Item List</a>

                        </li>

                    </ul>

                </div>

            </div>

        </nav>

        <div class="m-3 px-5 text-center">

            <table class="table table-bordered">

                <thead class="table table-dark table-striped">

                    <tr>

                        <th colspan="1">Item ID</th>

                        <th colspan="1">Item name</th>

                        <th colspan="1">status</th>

                        <th colspan="1">Price</th>

                        <th colspan="1">Category</th>
                        <th colspan="1">Action</th>
                        <th colspan="1">Edit</th>

                    </tr>

                </thead>

                <tbody id="tb1" class="table-info">

                </tbody>

            </table>

        </div>

    </div>

</body>

<script>

    var al = [];

    al = getAllItem();

    function getItemsAll() {

        getAllItem().then(item => {

            let table = '';

         item.forEach(obj => {

         table += `<tr id="${obj.menuItemId}"><td>${obj.menuItemId}</td>

          <td>${obj.itemName}</td>

          <td>${obj.status}</td>

          <td>${obj.price}</td>
          <td>${obj.category}</td>

          <td><button type="button" onclick="deleteItem(${obj.menuItemId})" class="btn btn-danger">Delete</button></td>
          <td><button type="button" class="btn btn-danger">Edit</button></td></tr>`;

            });

            document.getElementById("tb1").innerHTML = table;

        })

    }

    function deleteItem(id) {

        if (confirm('Are you sure you want to delete this item ?')) {

            deleteItemById(id).then(() => {

                document.getElementById(id).remove();

                console.log('item deleted successfully');

            }).catch(error => {

                console.log(error);

            });

        }

    }

</script>

</html>